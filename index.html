<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fixed-Income Price Shift</title>
  <link rel="stylesheet" href="styles.css?v=1" />
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E2X244VF9E"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'G-E2X244VF9E');
</script>

<body>

  <!-- HEADER: Title + Date only (no buttons here) -->
  <header class="header">
    <div class="header-inner">
      <div class="header-left">
        <h1 class="header-left-name">Fixed-Income Price Shift</h1>
        <p id="date-display"></p>
      </div>
    </div>
  </header>

  <!-- CONTROLS BAR (moved buttons out of header) -->
  <section class="controls-wrap">
    <div class="controls-inner">

      <div class="controls-left">
        <button id="save-data-button" class="btn btn-outline" type="button">Save Data</button>
      </div>

      <div class="controls-right">

        <button class="btn btn-ghost" id="favorites-button" type="button" aria-haspopup="dialog" aria-expanded="false">
          Favorites
        </button>

        <button class="btn btn-ghost button-tertiary" type="button">Volume Change %</button>
        <button class="btn btn-primary button-primary" type="button">Top Gainers</button>
        <button class="btn btn-danger button-secondary" type="button">Top Losers</button>

        <button class="btn btn-outline refresh-button" type="button">Refresh</button>

        <form class="search-bar" autocomplete="off">
          <input type="text" placeholder="Search symbol…" id="search-input" />
          <button class="btn btn-outline" type="submit">Search</button>
        </form>

        <!-- Favorites popup (now anchored to controls bar) -->
        <div id="favorites-popup" class="popup" role="dialog" aria-label="Favorites panel" aria-hidden="true">
          <div class="popup-header">
            <div class="popup-title">Favorites</div>
            <button class="popup-close" id="favorites-close" type="button" aria-label="Close favorites">✕</button>
          </div>

          <label class="popup-row">
            <input type="checkbox" id="favorites-only-toggle" />
            <span>Show favorites only</span>
          </label>

          <div class="popup-list" id="favorites-list"></div>

          <div class="popup-actions">
            <button class="btn btn-outline" id="favorites-clear" type="button">Clear favorites</button>
          </div>
        </div>

      </div>
    </div>

    <!-- METRICS ROW -->
    <div class="metrics-inner">
      <div id="total-change-container" class="metric-card"></div>
      <div id="average-volume-change-container" class="metric-card"></div>
      <div id="status-indicator" class="metric-card metric-muted">Loading…</div>
    </div>
  </section>

  <!-- TABLE -->
  <section class="table-container">
    <table class="dividend-history-table" id="price-table">
      <thead>
        <tr>
          <th class="col-star" title="Favorite">★</th>
          <th data-key="Symbol">Symbol</th>
          <th data-key="Current price" class="num">Current Price</th>
          <th data-key="Yesterday Close" class="num">Yesterday Close</th>
          <th data-key="Avg Volume" class="num">Average Volume</th>
          <th data-key="Yesterday Volume" class="num">Yesterday Volume</th>
          <th data-key="Volume Change %" class="num">Volume Change %</th>
          <th data-key="High" class="num">High</th>
          <th data-key="Low" class="num">Low</th>
          <th data-key="Price change" class="num">Price Change $</th>
          <th data-key="% change" class="num">Price Change %</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <button id="myBtn" title="Go to top" type="button">Top</button>
  </section>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6063322408576337"
    crossorigin="anonymous"></script>

  <script defer src="script.js?v=1"></script>
</body>

</html>
